<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Form Add Row - Home</title>

<!-- Bootstrap -->
<link href="libs/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href="libs/bootstrap-3.3.7/css/bootstrap-theme.min.css" rel="stylesheet">
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
		.code-window {
			max-height: 200px;
			overflow-y: scroll;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-inverse">
		<div class="container-fluid"> 
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Form Add Row</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="defaultNavbar1">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Home<span class="sr-only">(current)</span></a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
							Demos<span class="caret"></span>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#existingDomData">Add A Form Row Using Existing Data in the <abbr title="document object model">DOM</abbr></a></li>
							<li><a href="#jsonDataForm">Add A Form Row Using <abbr title="JavaScript Object Notation">JSON</abbr> Data</a></li>
							<!--<li class="divider"></li>
							<li><a href="#">Email Add Form Row</a></li>
							<li class="divider"></li>
							<li><a href="#">Other Add Form Row</a></li>-->
						</ul>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
							Getting Started<span class="caret"></span>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#startedSection">Getting Started</a></li>
							<li><a href="#dependenciesSection">Dependencies</a></li>
						</ul>
					</li>
					
				</ul>
				<form class="navbar-form navbar-left" role="search">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Search">
					</div>
					<button type="submit" class="btn btn-default">Submit</button>
				</form>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="https://github.com/greedyPixel">Github</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
							Other Plugins<span class="caret"></span>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="https://github.com/greedyPixel/bootstrap-glyphicon-svg">Bootstrap Glyphicon Override</a></li>
							<!--<li><a href="#">Font Awesome Override</a></li>--->
						</ul>
					</li>
				</ul>
			</div>
			<!-- /.navbar-collapse --> 
		</div>
		<!-- /.container-fluid --> 
	</nav>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<h1 class="text-center">JQuery Form Add Row</h1>
			</div>
		</div>
		<hr>
	</div>
	<div class="container">
		<div class="row text-center">
			<div class="col-md-6 col-md-offset-3">
				The <strong>Form Add Row</strong> plugin allows a developer to generate
				add a row functionality to a group of form elements. Instructions for setting up the <strong>Form Add Row</strong> plugin are simple to follow.
				<br>
				<a href="dist/js/FormAddRow.js" class="btn btn-primary btn-lg">Download formAddRow.js</a>
			</div>
		</div> 
		<hr>
		<div class="row">
			<div class="text-center col-md-12">
				<div class="well">
					<strong> Easily build add a row form elements with Form Add Row.</strong>
				</div>
			</div>
		</div>
		<div class="row" id="existingDomData">
			<div class="col-md-12">
				<h2>Add A Form Row Using Existing Data in the <abbr title="document object model">DOM</abbr></h2>
				<div class="btn-group pull-right">
					<button id="btnAddressForm" data-type="generate" type="button" class="btn btn-success btn-lg">Generate Form Add Row</button>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">   
				<!-- Start Address Add Form Row Container -->
     			<div id="addressForm" class="addFormRowContainer">
					<!-- Start Address Add Form Row -->
					<div class="addFormRow">
						<input type="hidden" name="addressId" id="addressId" value="">
						<div class="form-group">
							<label class="control-label" for="addressOne_0">Address 1</label>
							<div class="input-group col-md-12">
								<input type="text" class="form-control" name="addressOne.0" id="addressOne_0" placeholder="Address 1" value="180 Painter Woods Way">
							</div>
						</div>
						<div class="form-group">
							<label class="control-label" for="addressTwo_0">Address 2</label>
							<div class="input-group col-md-12">
								<input type="text" class="form-control" name="addressTwo.0" id="addressTwo_0" placeholder="Address 2" value="Suite 101">
							</div>
						</div>
						<div class="row">
							<div class="col-md-4 form-group">
								<label class="control-label" for="city_0">City</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="city.0" id="city_0" placeholder="City" value="Saint Leonard">
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="state_0">State</label>
								<div class="input-group col-md-12">
									<select data-type="state" class="form-control" name="state.0" id="state_0"></select>
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="zipCode_0">Zip Code</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="zipCode.0" id="zipCode_0" placeholder="Zip Code" value="20685">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6">
								<label class="control-label">Primary Address</label>
								<div class="input-group col-md-12">
									<label for="primaryAddressYes_0"><input type="radio" name="primaryAddress.0" id="primaryAddressYes_0" value="Yes"> Yes</label>
									<label for="primaryAddressNo_0"><input type="radio" name="primaryAddress.0" id="primaryAddressNo_0" value="No" checked> No</label>
								</div>
							</div>
							<div class="form-group col-md-6">
								<label class="control-label">Primary Awesome</label>
								<div class="input-group col-md-12">
									<label for="locationTypeOne_0"><input type="checkbox" name="locationType.0" value="One" id="locationTypeOne_0"> Office</label>
									<label for="locationTypeTwo_0"><input type="checkbox" name="locationType.0" value="Two" id="locationTypeTwo_0" checked> Work Site</label>
								</div>
							</div>
						</div>
					</div>
					<!-- End Address Add Form Row 1-->
      				<!-- Start Address Add Form Row 2 -->
					<div class="addFormRow">
						<input type="hidden" name="addressId" id="addressId" value="">
						<div class="form-group">
							<label class="control-label" for="addressOne">Address 1</label>
							<div class="input-group col-md-12">
								<input type="text" class="form-control" name="addressOne.1" id="addressOne_1" placeholder="Address 1" value="3745 Solomons Island Road">
							</div>
						</div>
						<div class="form-group">
							<label class="control-label" for="addressTwo_1">Address 2</label>
							<div class="input-group col-md-12">
								<input type="text" class="form-control" name="addressTwo.1" id="addressTwo_1" placeholder="Address 2" value="South">
							</div>
						</div>
						<div class="row">
							<div class="col-md-4 form-group">
								<label class="control-label" for="city_1">City</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="city.1" id="city_1" placeholder="City" value="Saint Leonard">
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="state_1">State</label>
								<div class="input-group col-md-12">
									<select data-type="state" class="form-control" name="state.1" id="state_1"></select>
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="zipCode_1">Zip Code</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="zipCode.1" id="zipCode_1" placeholder="Zip Code" value="20685">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="form-group col-md-6">
								<label class="control-label">Primary Address</label>
								<div class="input-group col-md-12">
									<label for="primaryAddressYes_1"><input type="radio" name="primaryAddress.1" id="primaryAddressYes" value="Yes"> Yes</label>
									<label for="primaryAddressNo_1"><input type="radio" name="primaryAddress.1" id="primaryAddressNo_1" value="No" checked> No</label>
								</div>
							</div>
							<div class="form-group col-md-6">
								<label class="control-label">Location Type</label>
								<div class="input-group col-md-12">
									<label for="locationTypeOne_1"><input type="checkbox" name="locationType.1" value="One" id="locationTypeOne_1"> Office</label>
									<label for="locationTypeTwo_1"><input type="checkbox" name="locationType.1" value="Two" id="locationTypeTwo_1" checked> Work Site</label>
								</div>
							</div>
						</div>
					</div>
					<!-- End Address Add Form Row 2-->
				</div>
				<!-- End Address Add Form Row Container -->
				<div class="row">
					<div class="col-md-12">
						<ul class="nav nav-tabs">
							<li class="active"><a data-toggle="tab" href="#addressHtml">HTML</a></li>
							<li><a data-toggle="tab" href="#addressJs">JavaScript</a></li>
						</ul>
						<div class="tab-content">
							<div id="addressHtml" class="tab-pane fade in active code-window">
								
							</div>
							<div id="addressJs" class="tab-pane fade code-window">
								<figure class="highlight"><pre><code class="language-html" data-lang="html">$('#addressForm').FormAddRow({<br>	loaded: function(){<br>		// do something after form add row is generated<br>	}<br>});</code></pre></figure>
							</div>
						</div>
					</div>
				</div>
				<!---<figure class="highlight"><pre><code class="language-html" data-lang="html">You can use the mark tag to <span class="nt">&lt;mark&gt;</span>highlight<span class="nt">&lt;/mark&gt;</span> text.</code></pre></figure>-->
				
				<div class="row" id="jsonDataForm">
					<div class="col-md-12">
						<h2>Add A Form Row Using <abbr title="JavaScript Object Notation">JSON</abbr> Data </h2>
						<div class="btn-group pull-right">
							<button id="btnPhoneForm" type="button" data-type="generate" class="btn btn-success btn-lg">Generate Form Add Row</button>
						</div>
					</div>
				</div>
				<div id="phoneForm" class="addFormRowContainer">
					<div class="addFormRow">
						<input type="hidden" name="phoneId" id="phoneId" value="">
						<div class="row">
							<div class="col-md-4 form-group">
								<label class="control-label" for="phoneNumber">Phone Number</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="phoneNumber" id="phoneNumber" placeholder="Phone Number" value="">
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="extension">Extension</label>
								<div class="input-group col-md-12">
									<input type="text" class="form-control" name="extension" id="extension" placeholder="Extension" value="">
								</div>
							</div>
							<div class="col-md-4 form-group">
								<label class="control-label" for="phoneType">Phone Type</label>
								<div class="input-group col-md-12">
									<select data-type="phoneType" class="form-control" name="phoneType" id="phoneType">
										<option value="" selected>Select a Phone Type</option>
										<option value="1">Comm</option>
										<option value="2">Mobile</option>
										<option value="3">DSN</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<ul class="nav nav-tabs">
							<li class="active"><a data-toggle="tab" href="#phoneHtml">HTML</a></li>
							<li><a data-toggle="tab" href="#phoneJs">JavaScript</a></li>
							<li><a data-toggle="tab" href="#phoneJson">JSON</a></li>
						</ul>
						<div class="tab-content">
							<div id="phoneHtml" class="tab-pane fade in active code-window">
								
							</div>
							<div id="phoneJs" class="tab-pane fade code-window">
								<figure class="highlight"><pre><code class="language-html" data-lang="html">$('#phoneForm').FormAddRow({<br>	dataType: "json",<br>	url: "assets/data/phones.json",<br>	data: "data",<br>	title: "Phone(s)",<br>	loaded: function(data){<br>		// load something after form add row is finished loading.<br>	}<br>});</code></pre></figure>
							</div>
  							<div id="phoneJson" class="tab-pane fade code-window">
								<p>Click the "Generate Form Add Row Button" to see JSON object format.</p>
							</div>
						</div>
					</div>
				</div>
				<hr>
				<div class="row" id="startedSection">
					<div class="col-md-12">
						<h2>Getting Started</h2>
						<p>Getting started is easy.</p>
						<ol class="">
							<li>
								Download the plugin and ensure you have the dependent libraries also.
							</li>
							<li>
								Install/Reference the formAddRow.js plugin and ensure you have the dependent libraries also installed/referenced.
							</li>
							<li>
								Place your HTML code into DIVs for the container and the row using the "addFormRowContainer" (used for the container of the form rows) and "addFormRow" (used for each form row) classes as shown below.
								<ul class="list-unstyled">
									<li>
										<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div id="myFormRow" class="<i class="text-success">addFormRowContainer</i>"&gt;</span><br>	&lt;!-- Start the first row here. --&gt;<br>	<span class="nt">&lt;div class="<i class="text-success">addFormRow</i>"&gt;</span><br>		&lt;!-- Add form HTML for your add row here. --&gt;<br>	<span class="nt">&lt;/div&gt;</span><br>	&lt;!-- End the first row here. --&gt;<br><span class="nt">&lt;/div&gt;</span></code></pre></figure>
									</li>
								</ul>
							</li>
							<li>
								Add the JavaScript to call the plugin and set the url, data, dataType, title, loaded, and destroy. 
								<ul class="list-unstyled">
									<li>
										<figure class="highlight"><pre><code class="language-html" data-lang="html">$(document).ready(function(){ <span class="text-muted">//Ensure the plugin is only called after the page is ready.</span><br>	$('#myFormRow').FormAddRow({<br>		dataType: "json", <span class="text-muted">//Select the dataType for specific ajax calls (optional)</span><br>		url: "assets/data/phones.json", <span class="text-muted">//Select the url for an ajax call (optiona)</span><br>		data: "data", <span class="text-muted">//Select the root data element for the data</span><br>		title: "Form Row(s)", <span class="text-muted">//Add a legend title to the add form row</span><br>		loaded: function(data){ <span class="text-muted">//data = the loaded data to the plugin</span><br>			<span class="text-muted">//Do something after the plugin is loaded</span><br>		}<br>	});<br>});</code></pre></figure>
									</li>
									<li>
										Note: The plugin can also pull in looped data from the website since the rows are built after the document is ready.
									</li>
								</ul>
							</li>
							
						</ol>
					</div>
				</div>
				<div class="row" id="dependenciesSection">
					<div class="col-md-12">
						<h3>Dependencies</h3>
						<p>The formAddRow.js plugin has the following dependencies:</p>
						<ul class="list-unstyled">
							<li>
								<strong>Twitter Bootstrap 3.3.7</strong>
								<ul>
									<li>
										https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css
									</li>
									<li>
										https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js
									</li>
								</ul>
							</li>
							<li>
								<strong>JQuery <em>(1.10+)</em></strong>
								<ul>
									<li>
										https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js
									</li>
									<li>
										https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="text-center col-md-6 col-md-offset-3">
				<h4>Form Add Row </h4>
				<p>By <a href="http://www.shawnwood.com/" >Shawn Wood</a></p>
			</div>
		</div>
		<hr>
	</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script src="libs/jquery-3.1.1/jquery-3.1.1.min.js"></script>
<script src="libs/jquery-3.1.1/jquery-migrate-1.4.1.min.js"></script>
<script src="libs/jquery-ui-1.12.1/external/jquery/jquery.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script src="libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="assets/js/helpers.js"></script>
<script src="dist/js/FormAddRow.js"></script>
<script type="text/javascript">
	$( document ).ready(function() {
    	getStates('select[data-type="state"]','MD');
		//getPhones();
		$('#phoneForm').displayHTML({
			destination: '#phoneHtml',
			loaded: function(){
				
			}
		});
		$('#addressForm').displayHTML({
			destination: '#addressHtml',
			loaded: function(){
				
			}
		});
	});
	function getStates(target,selected){
		if( typeof target === 'undefined' || target === null ){
			target = 'select[data-type="state"]';
		}
		if( typeof selected === 'undefined' || selected === null ){
			selected = '';
		}
		var states = $.ajax({
				dataType: "json",
				url: "assets/data/states.json",
				data: "states",
				success: function(data) {
					//console.log(data)
					$(target).empty();
					if(data != null && data != ""){
						var stateList = '';
						
						if(selected == ''){
							stateList += '<option value="" selected="selected">Select a State</option>';
						} else {
							stateList += '<option value="">Select a State</option>';
						}
						
						$.each(data.states,function(index,element){
							if(selected == element.abbreviation){
								stateList += '<option value="' + element.abbreviation + '" selected="selected">' + element.name + '</option>'								
							} else {
								stateList += '<option value="' + element.abbreviation + '">' + element.name + '</option>'
							}
							
							
						});
						$(target).append(stateList);
						setTimeout(function(){
							$(target).trigger('change');
						},500)
						
					}
					
				},
				error: function(x,t,m) {
					console.log(x);
					console.log(t);
					console.log(m);
				}
			}).done(function(data){
				if(data != null && data != ""){
					$('select[data-type="state"]').on('change', function(){
						var $thisValue = $(this).val();
						var $thisId = $(this).attr('id');
						var $taglineLength = $('#' + $thisId + 'Tagline').length;
						var $tagline = '<span id="' + $thisId + 'Tagline" class="badge"></span>';
						
						if($taglineLength == 0){
							$(this).parent().append($tagline);
						}
						if($thisValue == ''){
							$('#' + $thisId + 'Tagline').remove();
						} else {
							$.each(data.states,function(index,element){
								if($thisValue == element.abbreviation){
									$('#' + $thisId + 'Tagline').text(element.nickname);
								}							
							});
						}
						
					});
				}
				// Run after the states get populated
				$('#btnAddressForm').on('click', function(){
					var message1 = 'Generate Form Add Row';
					var message2 = 'Destroy Form Add Row';
					if($(this).attr('data-type') == 'generate'){ // Generate
						$(this).attr('data-type','destroy');
						$(this).removeClass('btn-success').addClass('btn-danger');
						$(this).text(message2);
						$('#addressForm').FormAddRow({
							loaded: function(){
								// do something after form add row is generated
							}
						});
					} else { // Destroy
						$(this).attr('data-type','generate');
						$(this).removeClass('btn-danger').addClass('btn-success');
						$(this).text(message1);
						$('#addressForm').FormAddRow({
							destroy: true
						});
					}
				});	
				$('#btnPhoneForm').on('click', function(){
					var message1 = 'Generate Form Add Row';
					var message2 = 'Destroy Form Add Row';
					if($(this).attr('data-type') == 'generate'){ // Generate
						$(this).attr('data-type','destroy');
						$(this).removeClass('btn-success').addClass('btn-danger');
						$(this).text(message2);
						$('#phoneForm').FormAddRow({
							dataType: "json",
							url: "assets/data/phones.json",
							data: "data",
							title: "Phone(s)",
							loaded: function(data){
								$('#phoneJson').empty();
								var jsonObect = '<figure class="highlight"><pre><code class="language-html" data-lang="html">'
									+ JSON.stringify(data)
									+  '</code></pre></figure>';
								$('#phoneJson').append(jsonObect);
							}
						});
					} else { // Destroy
						$(this).attr('data-type','generate');
						$(this).removeClass('btn-danger').addClass('btn-success');
						$(this).text(message1);
						$('#phoneForm').FormAddRow({
							destroy: true
						});
					}
				});	
								
			});
	}
	
</script>
</body>
</html>
